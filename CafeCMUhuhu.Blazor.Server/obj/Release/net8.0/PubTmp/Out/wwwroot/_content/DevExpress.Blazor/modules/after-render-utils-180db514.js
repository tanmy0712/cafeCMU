function t(t,o){const e=t.ownerDocument.getElementById(o);if(null!==e){const o=e.getBoundingClientRect(),n=t.getBoundingClientRect();return new Promise(((i,r)=>{requestAnimationFrame((r=>{!(t.compareDocumentPosition(document.body)&Node.DOCUMENT_POSITION_DISCONNECTED)&&o.top>n.top&&e.scrollTop>0&&(e.scrollTop=0),i()}))}))}return Promise.resolve()}async function o(t,o){const e=await o.arrayBuffer(),n=URL.createObjectURL(new Blob([e])),i=document.createElement("a");return document.body.appendChild(i),i.href=n,i.download=null!=t?t:"",i.click(),i.remove(),URL.revokeObjectURL(n),Promise.resolve()}async function e(t,o){const e=t.isConnected?t:null;if(null!==e){const t=await o.arrayBuffer(),n=new TextDecoder("utf-8").decode(t),i=JSON.parse(n);e.processUploadedFilesOptions(i)}return Promise.resolve()}async function n(t){const o=t.isConnected?t:null;return null!==o&&o.showFileSelectorDialog(),Promise.resolve()}async function i(t,o,...e){return new Promise(((n,i)=>{try{const i=t[o].call(t,e);i.then?i.then(n):n(i)}catch(t){i(t)}}))}class r{constructor(t,o,e,n,i,r,l,s){this.targetWidth=0,this.targetHeight=0,this.targetPositionX=0,this.targetPositionY=0,this.viewPortWidth=0,this.viewPortHeight=0,this.viewPortScrollHeight=0,this.viewPortScrollWidth=0,this.targetWidth=t,this.targetHeight=o,this.targetPositionX=e,this.targetPositionY=n,this.viewPortWidth=i,this.viewPortHeight=r,this.viewPortScrollWidth=l,this.viewPortScrollHeight=s}}function l(t){const o=document.querySelector(t);if(null===t)throw new Error("Position target does not exist");if(null===o)return console.warn("Could not find an element by the specified position target"),function(){const t=document.querySelector("body").getBoundingClientRect();return new r(Math.floor(t.width/2),Math.floor(t.height),Math.floor(t.width/2),Math.floor(t.height),Math.floor(window.innerWidth),Math.floor(window.innerHeight),Math.floor(window.scrollX),Math.floor(window.scrollY))}();const e=o.getBoundingClientRect();return new r(Math.floor(e.width),Math.floor(e.height),Math.floor(e.x),Math.floor(e.y),Math.floor(window.innerWidth),Math.floor(window.innerHeight),Math.floor(window.scrollX),Math.floor(window.scrollY))}export{o as downloadFileFromStream,l as getLayoutAttributes,i as invokeMethod,t as scrollIntoView,e as sendFileOptions,n as showFileSelectorDialog};
