"use strict";(self.webpackChunkdevexpress_blazor_client=self.webpackChunkdevexpress_blazor_client||[]).push([[361],{8963:(t,e,n)=>{n.r(e),n.d(e,{default:()=>Me});var i=n(9297),a=n(5865),s=n(6206),o=n(4008),r=n(8214),l=n(2249),c=n(6997),_=n(3745),u=n(9637);const h=r.l,d={ThemeManager:u.u.inherit({ctor(t){this.callBase.apply(this,arguments),this._subTheme=t.subTheme},_initializeTheme:function(){const t=this;let e;t._subTheme&&(e=h(!0,{},t._theme[t._subTheme],t._theme),h(!0,t._theme,e)),t.callBase.apply(t,arguments)}})};var p=n(4343),g=n(5104),f=n(4094),m=n(3214),x=n(2222),b=n(7224),v=n(9743);const y="gauge-tooltip",I=x.default.add,k=g.default.inherit({ctor:function(t){const e=this;e._element=t.renderer.g().attr({class:"dxg-tracker",stroke:"none","stroke-width":0,fill:"#000000",opacity:1e-4}).linkOn(t.container,{name:"tracker",after:"peripheral"}),e._showTooltipCallback=function(){const t=e._tooltipEvent.target,n=t["gauge-data-target"],i=t["gauge-data-info"];if(e._targetEvent=null,e._tooltipTarget!==t){const a=n=>{n&&(e._tooltipTarget=t)};a(e._callbacks["tooltip-show"](n,i,a))}},e._hideTooltipCallback=function(){e._hideTooltipTimeout=null,e._targetEvent=null,e._tooltipTarget&&(e._callbacks["tooltip-hide"](),e._tooltipTarget=null)},e._dispose=function(){clearTimeout(e._hideTooltipTimeout),e._showTooltipCallback=e._hideTooltipCallback=e._dispose=null}},dispose:function(){return this._dispose(),this.deactivate(),this._element.off("."+y),this._element.linkOff(),this._element=this._context=this._callbacks=null,this},activate:function(){return this._element.linkAppend(),this},deactivate:function(){return this._element.linkRemove().clear(),this},attach:function(t,e,n){return t.data({"gauge-data-target":e,"gauge-data-info":n}).append(this._element),this},detach:function(t){return t.remove(),this},setTooltipState:function(t){const e=this;if(e._element.off("."+y),t){const t={tracker:e};e._element.on((0,b.addNamespace)([v.Z.move],y),t,C).on((0,b.addNamespace)([v.Z.out],y),t,S).on((0,b.addNamespace)([v.Z.down],y),t,V).on((0,b.addNamespace)([v.Z.up],y),t,A).on((0,b.addNamespace)([m.u],y),t,O)}return e},setCallbacks:function(t){return this._callbacks=t,this},_showTooltip:function(t){clearTimeout(this._hideTooltipTimeout),this._hideTooltipTimeout=null,this._tooltipTarget!==t.target&&(this._tooltipEvent=t,this._showTooltipCallback())},_hideTooltip:function(t){const e=this;clearTimeout(e._hideTooltipTimeout),t?e._hideTooltipTimeout=setTimeout(e._hideTooltipCallback,t):e._hideTooltipCallback()}});let T=null;function C(t){const e=t.data.tracker;e._x=t.pageX,e._y=t.pageY,e._showTooltip(t)}function S(t){t.data.tracker._hideTooltip(100)}function O(t){t.data.tracker._hideTooltip()}function V(t){(T=t.data.tracker)._touch=!0,C(t)}function A(){T._touch=!1}function E(t){const e=T;e&&!e._touch&&(e._hideTooltip(100),T=null)}I((function(){p.Z.subscribeGlobal(f.Z.getDocument(),(0,b.addNamespace)([v.Z.down],y),E)}));const M=k;var L=n(6898),w=n(9156),R=n(2794),B=n(3270),P=n(7794);const F=Number,z=r.l,D=L.default.format,N=_.Z.inherit({_rootClassPrefix:"dxg",_themeSection:"gauge",_createThemeManager:function(){return new d.ThemeManager(this._getThemeManagerOptions())},_initCore:function(){const t=this._renderer.root;this._valueChangingLocker=0,this._translator=this._factory.createTranslator(),this._tracker=this._factory.createTracker({renderer:this._renderer,container:t}),this._setTrackerCallbacks()},_beginValueChanging:function(){this._resetIsReady(),this._onBeginUpdate(),++this._valueChangingLocker},_endValueChanging:function(){0==--this._valueChangingLocker&&this._drawn()},_setTrackerCallbacks:function(){const t=this._renderer,e=this._tooltip;this._tracker.setCallbacks({"tooltip-show":function(n,i,a){const s=n.getTooltipParameters(),o=t.getRootOffset(),r=z({value:s.value,valueText:e.formatValue(s.value),color:s.color},i);return e.show(r,{x:s.x+o.left,y:s.y+o.top,offset:s.offset},{target:i},void 0,a)},"tooltip-hide":function(){return e.hide()}})},_dispose:function(){this._cleanCore(),this.callBase.apply(this,arguments)},_disposeCore:function(){this._themeManager.dispose(),this._tracker.dispose(),this._translator=this._tracker=null},_cleanCore:function(){this._tracker.deactivate(),this._cleanContent()},_renderCore:function(){this._isValidDomain&&(this._renderContent(),this._renderGraphicObjects(),this._tracker.setTooltipState(this._tooltip.isEnabled()),this._tracker.activate(),this._noAnimation=!1)},_applyChanges:function(){this.callBase.apply(this,arguments),this._resizing=this._noAnimation=!1},_setContentSize:function(){this._resizing=this._noAnimation=2===this._changes.count(),this.callBase.apply(this,arguments)},_applySize:function(t){this._innerRect={left:t[0],top:t[1],right:t[2],bottom:t[3]};const e=this._layout._cache;return this._cleanCore(),this._renderCore(),this._layout._cache=this._layout._cache||e,[t[0],this._innerRect.top,t[2],this._innerRect.bottom]},_initialChanges:["DOMAIN"],_themeDependentChanges:["DOMAIN"],_optionChangesMap:{subtitle:"MOSTLY_TOTAL",indicator:"MOSTLY_TOTAL",geometry:"MOSTLY_TOTAL",animation:"MOSTLY_TOTAL",startValue:"DOMAIN",endValue:"DOMAIN"},_optionChangesOrder:["DOMAIN","MOSTLY_TOTAL"],_change_DOMAIN:function(){this._setupDomain()},_change_MOSTLY_TOTAL:function(){this._applyMostlyTotalChange()},_updateExtraElements:s.noop,_setupDomain:function(){const t=this;t._setupDomainCore(),t._isValidDomain=isFinite(1/(t._translator.getDomain()[1]-t._translator.getDomain()[0])),t._isValidDomain||t._incidentOccurred("W2301"),t._change(["MOSTLY_TOTAL"])},_applyMostlyTotalChange:function(){this._setupCodomain(),this._setupAnimationSettings(),this._setupDefaultFormat(),this._change(["LAYOUT"])},_setupAnimationSettings:function(){const t=this;let e=t.option("animation");t._animationSettings=null,(void 0===e||e)&&(e=z({enabled:!0,duration:1e3,easing:"easeOutCubic"},e),e.enabled&&e.duration>0&&(t._animationSettings={duration:F(e.duration),easing:e.easing})),t._containerBackgroundColor=t.option("containerBackgroundColor")||t._themeManager.theme().containerBackgroundColor},_setupDefaultFormat:function(){const t=this._translator.getDomain();this._defaultFormatOptions=(0,l.AO)(t[0],t[1],this._getApproximateScreenRange())},_setupDomainCore:null,_calculateSize:null,_cleanContent:null,_renderContent:null,_setupCodomain:null,_getApproximateScreenRange:null,_factory:{createTranslator:function(){return new c.Y},createTracker:function(t){return new M(t)}}}),G=function(t,e,n){Object.is(t,-0)&&(t=0);const i=D(t,(e=e||{}).format);let a;return"function"==typeof e.customizeText?(a=z({value:t,valueText:i},n),String(e.customizeText.call(a,a))):i},W=function(t,e){const n=G(t.getDomainStart(),e),i=G(t.getDomainEnd(),e);return n.length>=i.length?n:i};function H(t,e){return t&&e&&t.length===e.length&&function(t,e){let n;const i=t.length;let a,s;for(n=0;n<i;++n)if(a=t[n]!=t[n],s=e[n]!=e[n],!(a&&s||t[n]===e[n]))return!1;return!0}(t,e)}N.addPlugin(w.BA),N.addPlugin(R.B),N.addPlugin(B.B),N.addPlugin(P.B);const Y=N.prototype._setTooltipOptions;N.prototype._setTooltipOptions=function(){Y.apply(this,arguments),this._tracker&&this._tracker.setTooltipState(this._tooltip.isEnabled())};var j=n(2678),U=n(9488),Z=n(3066);const $=Array.isArray,K=isFinite,q=Number,X=Math.min,J=Math.max,Q=r.l,tt=[1,2,5];function et(t,e){return null===t?t:K(t)?q(t):e}function nt(t){return $(t)?t:(0,U.kE)(t)?[t]:null}const it=N.inherit({_initCore:function(){const t=this._renderer;var e,n;this._setupValue(this.option("value")),this.__subvalues=nt(this.option("subvalues")),this._setupSubvalues(this.__subvalues),void 0===(e=this).option("value")&&void 0===e.option("subvalues")&&void 0!==e.option("valueIndicators")&&((n=e).value=n.subvalues=s.noop,n._setupValue=n._setupSubvalues=n._updateValueIndicator=n._updateSubvalueIndicators=null,function(t){t._indicatorValues=[],st(t,"_indicatorValues",t.option("valueIndicators")),t._valueIndicators=[];const e=t._applyMostlyTotalChange;t._applyMostlyTotalChange=function(){st(this,"_indicatorValues",this.option("valueIndicators")),e.call(this)},t._updateActiveElements=ot,t._prepareValueIndicators=rt,t._disposeValueIndicators=lt,t._cleanValueIndicators=ct,t.indicatorValue=_t}(e)),this.callBase.apply(this,arguments),this._rangeContainer=new this._factory.RangeContainer({renderer:t,container:t.root,translator:this._translator,themeManager:this._themeManager}),this._initScale(),this._subvalueIndicatorContainer=this._renderer.g().attr({class:"dxg-subvalue-indicators"}).linkOn(this._renderer.root,"valueIndicator").enableLinks()},_fontFields:["scale.label.font","valueIndicators.rangebar.text.font","valueIndicators.textcloud.text.font","indicator.text.font"],_initScale:function(){this._scaleGroup=this._renderer.g().attr({class:"dxg-scale"}).linkOn(this._renderer.root,"scale"),this._labelsAxesGroup=this._renderer.g().attr({class:"dxg-scale-elements"}).linkOn(this._renderer.root,"scale-elements"),this._scale=new Z.R({incidentOccurred:this._incidentOccurred,renderer:this._renderer,axesContainerGroup:this._scaleGroup,labelsAxesGroup:this._labelsAxesGroup,axisType:this._scaleTypes.type,drawingType:this._scaleTypes.drawingType,widgetClass:"dxg",getTemplate(){}})},_disposeCore:function(){this.callBase.apply(this,arguments),this._scale.dispose(),this._scaleGroup.linkOff(),this._labelsAxesGroup.linkOff(),this._rangeContainer.dispose(),this._disposeValueIndicators(),this._subvalueIndicatorContainer.linkOff(),this._scale=this._scaleGroup=this._labelsAxesGroup=this._rangeContainer=null},_disposeValueIndicators:function(){this._valueIndicator&&this._valueIndicator.dispose(),this._subvalueIndicatorsSet&&this._subvalueIndicatorsSet.dispose(),this._valueIndicator=this._subvalueIndicatorsSet=null},_setupDomainCore:function(){const t=this.option("scale")||{};let e=this.option("startValue"),n=this.option("endValue");e=(0,U.kE)(e)?q(e):(0,U.kE)(t.startValue)?q(t.startValue):0,n=(0,U.kE)(n)?q(n):(0,U.kE)(t.endValue)?q(t.endValue):100,this._baseValue=e<n?e:n,this._translator.setDomain(e,n)},_cleanContent:function(){this._rangeContainer.clean(),this._cleanValueIndicators()},_measureScale:function(t){const e=t.tick,n=e.visible&&e.length>0&&e.width>0,i=t.minorTick,a=i.visible&&i.length>0&&i.width>0,s=t.label,o=Number(s.indentFromTick);if(!n&&!a&&!s.visible)return{};const l=this._scale.measureLabels((0,r.l)({},this._canvas)),c=this._getScaleLayoutValue(),_={min:c,max:c},u=this._getTicksCoefficients(t),h=u.inner,d=u.outer;return n&&(_.min=X(_.min,c-h*e.length),_.max=J(_.max,c+d*e.length)),a&&(_.min=X(_.min,c-h*i.length),_.max=J(_.max,c+d*i.length)),s.visible&&this._correctScaleIndents(_,o,l),_},_renderContent:function(){const t=this,e=t._prepareScaleSettings();t._rangeContainer.render(Q(t._getOption("rangeContainer"),{vertical:t._area.vertical})),t._renderScale(e),t._subvalueIndicatorContainer.linkAppend();const n=(0,l.UI)([t._rangeContainer].concat(t._prepareValueIndicators()),(function(t){return t&&t.enabled?t:null}));t._applyMainLayout(n,t._measureScale(e)),n.forEach((e=>e.resize(t._getElementLayout(e.getOffset())))),t._shiftScale(t._getElementLayout(0),e),t._beginValueChanging(),t._updateActiveElements(),t._endValueChanging()},_prepareScaleSettings:function(){const t=this,e=t.option("scale"),n=(0,r.l)(!0,{},t._themeManager.theme("scale"),e);return n.label.indentFromAxis=0,n.isHorizontal=!t._area.vertical,n.forceUserTickInterval|=(0,U.$K)(e)&&(0,U.$K)(e.tickInterval)&&!(0,U.$K)(e.scaleDivisionFactor),n.axisDivisionFactor=n.scaleDivisionFactor||t._gridSpacingFactor,n.minorAxisDivisionFactor=n.minorScaleDivisionFactor||5,n.numberMultipliers=tt,n.tickOrientation=t._getTicksOrientation(n),n.label.useRangeColors&&(n.label.customizeColor=function(){return t._rangeContainer.getColorForValue(this.value)}),n},_renderScale:function(t){const e=this._translator.getDomain(),n=e[0],i=e[1],a=this._translator.getCodomain(),s=!!(n>i^t.inverted),o=X(n,i),l=J(n,i);t.min=o,t.max=l,t.startAngle=90-a[0],t.endAngle=90-a[1],t.skipViewportExtending=!0,t.inverted=s,this._scale.updateOptions(t),this._scale.setBusinessRange({axisType:"continuous",dataType:"numeric",min:o,max:l,invert:s}),this._updateScaleTickIndent(t),this._scaleGroup.linkAppend(),this._labelsAxesGroup.linkAppend(),this._scale.draw((0,r.l)({},this._canvas))},_updateIndicatorSettings:function(t){const e=this;t.currentValue=t.baseValue=K(e._translator.translate(t.baseValue))?q(t.baseValue):e._baseValue,t.vertical=e._area.vertical,t.text&&!t.text.format&&(t.text.format=e._defaultFormatOptions)},_prepareIndicatorSettings:function(t,e){const n=this._themeManager.theme("valueIndicators"),i=(0,l.ps)(t.type||this._themeManager.theme(e)),a=Q(!0,{},n._default,n[i],t);return a.type=i,a.animation=this._animationSettings,a.containerBackgroundColor=this._containerBackgroundColor,this._updateIndicatorSettings(a),a},_cleanValueIndicators:function(){this._valueIndicator&&this._valueIndicator.clean(),this._subvalueIndicatorsSet&&this._subvalueIndicatorsSet.clean()},_prepareValueIndicators:function(){return this._prepareValueIndicator(),null!==this.__subvalues&&this._prepareSubvalueIndicators(),[this._valueIndicator,this._subvalueIndicatorsSet]},_updateActiveElements:function(){this._updateValueIndicator(),this._updateSubvalueIndicators()},_prepareValueIndicator:function(){const t=this;let e=t._valueIndicator;const n=t._prepareIndicatorSettings(t.option("valueIndicator")||{},"valueIndicatorType");e&&e.type!==n.type&&(e.dispose(),e=null),e||(e=t._valueIndicator=t._createIndicator(n.type,t._renderer.root,"dxg-value-indicator","value-indicator")),e.render(n)},_createSubvalueIndicatorsSet:function(){const t=this,e=t._subvalueIndicatorContainer;return new ut({createIndicator:function(n,i){return t._createIndicator(n,e,"dxg-subvalue-indicator","subvalue-indicator",i)},createPalette:function(e){return t._themeManager.createPalette(e)}})},_prepareSubvalueIndicators:function(){const t=this;let e=t._subvalueIndicatorsSet;const n=t._prepareIndicatorSettings(t.option("subvalueIndicator")||{},"subvalueIndicatorType");e||(e=t._subvalueIndicatorsSet=t._createSubvalueIndicatorsSet());const i=n.type!==e.type;e.type=n.type;const a=t._createIndicator(n.type,t._renderer.root);a&&(a.dispose(),e.render(n,i))},_setupValue:function(t){this.__value=et(t,this.__value)},_setupSubvalues:function(t){const e=void 0===t?this.__subvalues:nt(t);let n,i,a;if(null!==e){for(n=0,i=e.length,a=[];n<i;++n)a.push(et(e[n],this.__subvalues[n]));this.__subvalues=a}},_updateValueIndicator:function(){this._valueIndicator&&this._valueIndicator.value(this.__value,this._noAnimation)},_updateSubvalueIndicators:function(){this._subvalueIndicatorsSet&&this._subvalueIndicatorsSet.values(this.__subvalues,this._noAnimation)},value:function(t){return void 0!==t?(this._changeValue(t),this):this.__value},subvalues:function(t){return void 0!==t?(this._changeSubvalues(t),this):null!==this.__subvalues?this.__subvalues.slice():void 0},_changeValue:function(t){this._setupValue(t),this._beginValueChanging(),this._updateValueIndicator(),this._updateExtraElements(),this.__value!==this.option("value")&&this.option("value",this.__value),this._endValueChanging()},_changeSubvalues:function(t){null!==this.__subvalues?(this._setupSubvalues(t),this._beginValueChanging(),this._updateSubvalueIndicators(),this._updateExtraElements(),this._endValueChanging()):(this.__subvalues=nt(t),this._setContentSize(),this._renderContent()),H(this.__subvalues,this.option("subvalues"))||this.option("subvalues",this.__subvalues)},_optionChangesMap:{scale:"DOMAIN",rangeContainer:"MOSTLY_TOTAL",valueIndicator:"MOSTLY_TOTAL",subvalueIndicator:"MOSTLY_TOTAL",containerBackgroundColor:"MOSTLY_TOTAL",value:"VALUE",subvalues:"SUBVALUES",valueIndicators:"MOSTLY_TOTAL"},_customChangesOrder:["VALUE","SUBVALUES"],_change_VALUE:function(){this._changeValue(this.option("value"))},_change_SUBVALUES:function(){this._changeSubvalues(this.option("subvalues"))},_applyMainLayout:null,_getElementLayout:null,_createIndicator:function(t,e,n,i,a,s){const o=this._factory.createIndicator({renderer:this._renderer,translator:this._translator,owner:e,tracker:this._tracker,className:n},t,s);return o&&(o.type=t,o._trackerInfo={type:i,index:a}),o},_getApproximateScreenRange:null});function at(t){return t?t.value:null}function st(t,e,n){const i=t[e],a=$(n)?(0,l.UI)(n,at):[];let s=0;const o=a.length,r=[];for(;s<o;++s)r.push(et(a[s],i[s]));t[e]=r}function ot(){const t=this;t._valueIndicators.forEach((e=>{e.value(t._indicatorValues[e.index],t._noAnimation)}))}function rt(){const t=this,e=t._valueIndicators||[],n=t.option("valueIndicators"),i=[];let a,s=0;for(a=$(n)?n.length:0;s<a;++s)i.push(n[s]);for(a=e.length;s<a;++s)i.push(null);const o=[];return i.forEach(((n,i)=>{let a=e[i];if(!n)return void(a&&a.dispose());const s=t._prepareIndicatorSettings(n,"valueIndicatorType");a&&a.type!==s.type&&(a.dispose(),a=null),a||(a=t._createIndicator(s.type,t._renderer.root,"dxg-value-indicator","value-indicator",i,!0)),a&&(a.index=i,a.render(s),o.push(a))})),t._valueIndicators=o,t._valueIndicators}function lt(){this._valueIndicators.forEach((t=>t.dispose())),this._valueIndicators=null}function ct(){this._valueIndicators.forEach((t=>t.clean()))}function _t(t,e){return function(t,e,n,i,a){return void 0!==a?(void 0!==n[i]&&(n[i]=et(a,n[i]),e[i]&&e[i].value(n[i])),t):n[i]}(this,this._valueIndicators,this._indicatorValues,t,e)}function ut(t){this._parameters=t,this._indicators=[]}ut.prototype={constructor:ut,dispose:function(){return this._indicators.forEach((t=>t.dispose())),this._parameters=this._options=this._indicators=this._colorPalette=this._palette=null,this},clean:function(){return this._sample&&this._sample.clean().dispose(),this._indicators.forEach((t=>t.clean())),this._sample=this._options=this._palette=null,this},render:function(t,e){const n=this;return n._options=t,n._sample=n._parameters.createIndicator(n.type),n._sample.render(t),n.enabled=n._sample.enabled,n._palette=(0,U.$K)(t.palette)?n._parameters.createPalette(t.palette):null,n.enabled&&(n._generatePalette(n._indicators.length),n._indicators=(0,l.UI)(n._indicators,(function(t,i){return e&&(t.dispose(),t=n._parameters.createIndicator(n.type,i)),t.render(n._getIndicatorOptions(i)),t}))),n},getOffset:function(){return this._sample.getOffset()},resize:function(t){return this._layout=t,this._indicators.forEach((e=>e.resize(t))),this},measure:function(t){return this._sample.measure(t)},_getIndicatorOptions:function(t){let e=this._options;return this._colorPalette&&(e=Q({},e,{color:this._colorPalette[t]})),e},_generatePalette:function(t){const e=this;let n=null;e._palette&&(e._palette.reset(),n=e._palette.generateColors(t,{repeat:!0})),e._colorPalette=n},_adjustIndicatorsCount:function(t){const e=this,n=e._indicators;let i,a,s;const o=n.length;if(o>t){for(i=t,a=o;i<a;++i)n[i].clean().dispose();e._indicators=n.slice(0,t),e._generatePalette(n.length)}else if(o<t)for(e._generatePalette(t),i=o,a=t;i<a;++i)s=e._parameters.createIndicator(e.type,i),s.render(e._getIndicatorOptions(i)).resize(e._layout),n.push(s)},values:function(t,e){const n=this;if(n.enabled)return void 0!==t?($(t)||(t=K(t)?[Number(t)]:null),t&&(n._adjustIndicatorsCount(t.length),n._indicators.forEach(((n,i)=>n.value(t[i],e)))),n):(0,l.UI)(n._indicators,(function(t){return t.value()}))}};var ht=n(3382);const dt=isFinite,pt=Number,gt=Math.round,ft=G,mt=W,xt=g.default.inherit({ctor:function(t){const e=this;(0,j.each)(t,(function(t,n){e["_"+t]=n})),e._init()},dispose:function(){const t=this;return t._dispose(),(0,j.each)(t,(function(e){t[e]=null})),t},getOffset:function(){return pt(this._options.offset)||0}}),bt=xt.inherit({_init:function(){this._rootElement=this._createRoot().linkOn(this._owner,{name:"value-indicator",after:"core"}),this._trackerElement=this._createTracker()},_dispose:function(){this._rootElement.linkOff()},_setupAnimation:function(){const t=this;t._options.animation&&(t._animation={step:function(e){t._actualValue=t._animation.start+t._animation.delta*e,t._actualPosition=t._translator.translate(t._actualValue),t._move()},duration:t._options.animation.duration>0?pt(t._options.animation.duration):0,easing:t._options.animation.easing})},_runAnimation:function(t){const e=this._animation;e.start=this._actualValue,e.delta=t-this._actualValue,this._rootElement.animate({_:0},{step:e.step,duration:e.duration,easing:e.easing})},_createRoot:function(){return this._renderer.g().attr({class:this._className})},_createTracker:function(){return this._renderer.path([],"area")},_getTrackerSettings:s.noop,clean:function(){return this._animation&&this._rootElement.stopAnimation(),this._rootElement.linkRemove().clear(),this._clear(),this._tracker.detach(this._trackerElement),this._options=this.enabled=this._animation=null,this},render:function(t){const e=this;return e.type=t.type,e._options=t,e._actualValue=e._currentValue=e._translator.adjust(e._options.currentValue),e.enabled=e._isEnabled(),e.enabled&&(e._setupAnimation(),e._rootElement.attr({fill:(0,l.dh)(e._options.color)}).linkAppend(),e._tracker.attach(e._trackerElement,e,e._trackerInfo)),e},resize:function(t){const e=this;return e._rootElement.clear(),e._clear(),e.visible=e._isVisible(t),e.visible&&((0,r.l)(e._options,t),e._actualPosition=e._translator.translate(e._actualValue),e._render(),e._trackerElement.attr(e._getTrackerSettings()),e._move()),e},value:function(t,e){const n=this;let i;const a=this._rootElement;let s=null;return void 0===t?n._currentValue:(null===t?(s="hidden",n._currentValue=t):(i=n._translator.adjust(t),n._currentValue!==i&&dt(i)&&(n._currentValue=i,n.visible&&(n._animation&&!e?n._runAnimation(i):(n._actualValue=i,n._actualPosition=n._translator.translate(i),n._move())))),a.attr({visibility:s}),n)},_isEnabled:null,_isVisible:null,_render:null,_clear:null,_move:null}),vt={};vt["right-bottom"]=vt.rb=[0,-1,-1,0,0,1,1,0],vt["bottom-right"]=vt.br=[-1,0,0,-1,1,0,0,1],vt["left-bottom"]=vt.lb=[0,-1,1,0,0,1,-1,0],vt["bottom-left"]=vt.bl=[1,0,0,-1,-1,0,0,1],vt["left-top"]=vt.lt=[0,1,1,0,0,-1,-1,0],vt["top-left"]=vt.tl=[1,0,0,1,-1,0,0,-1],vt["right-top"]=vt.rt=[0,1,-1,0,0,-1,1,0],vt["top-right"]=vt.tr=[-1,0,0,1,1,0,0,-1];const yt=bt.inherit({_move:function(){const t=this._options,e=this._getTextCloudOptions(),n=ft(this._actualValue,t.text);this._text.attr({text:n});const i=this._text.getBBox(),a=e.x,s=e.y,o=(i.width||n.length*this._textUnitWidth)+2*t.horizontalOffset,r=(i.height||this._textHeight)+2*t.verticalOffset,l=function(t){let e=t.x,n=t.y;const i=vt[t.type],a=t.cloudWidth,s=t.cloudHeight;let o,r;const l=e,c=n;return o=r=t.tailLength,1&i[0]?r=Math.min(r,s/3):o=Math.min(o,a/3),{cx:gt(l+i[0]*o+(i[0]+i[2])*a/2),cy:gt(c+i[1]*r+(i[1]+i[3])*s/2),points:[gt(e),gt(n),gt(e+=i[0]*(a+o)),gt(n+=i[1]*(s+r)),gt(e+=i[2]*a),gt(n+=i[3]*s),gt(e+=i[4]*a),gt(n+=i[5]*s),gt(e+=i[6]*(a-o)),gt(n+=i[7]*(s-r))]}}({x:a,y:s,cloudWidth:o,cloudHeight:r,tailLength:t.arrowLength,type:this._correctCloudType(e.type,{x:a,y:s},{width:o,height:r})});this._text.attr({x:l.cx,y:l.cy+this._textVerticalOffset}),this._cloud.attr({points:l.points}),this._trackerElement&&this._trackerElement.attr({points:l.points})},_measureText:function(){const t=this;let e,n,i,a;t._textVerticalOffset||(e=t._createRoot().append(t._owner),a=mt(t._translator,t._options.text),n=t._renderer.text(a,0,0).attr({align:"center"}).css((0,l.FI)(t._options.text.font)).append(e),i=n.getBBox(),e.remove(),t._textVerticalOffset=-i.y-i.height/2,t._textWidth=i.width,t._textHeight=i.height,t._textUnitWidth=t._textWidth/a.length,t._textFullWidth=t._textWidth+2*t._options.horizontalOffset,t._textFullHeight=t._textHeight+2*t._options.verticalOffset)},_render:function(){this._measureText(),this._cloud=this._cloud||this._renderer.path([],"area").append(this._rootElement),this._text=this._text||this._renderer.text().append(this._rootElement),this._text.attr({align:"center"}).css((0,l.FI)(this._options.text.font))},_clear:function(){delete this._cloud,delete this._text},getTooltipParameters:function(){const t=this._getTextCloudOptions();return{x:t.x,y:t.y,value:this._currentValue,color:this._options.color}},_correctCloudType:t=>t}),It=bt.inherit({_measureText:function(){const t=this;let e,n,i;t._hasText=t._isTextVisible(),t._hasText&&!t._textVerticalOffset&&(e=t._createRoot().append(t._owner),n=t._renderer.text(mt(t._translator,t._options.text),0,0).attr({class:"dxg-text",align:"center"}).css((0,l.FI)(t._options.text.font)).append(e),i=n.getBBox(),e.remove(),t._textVerticalOffset=-i.y-i.height/2,t._textWidth=i.width,t._textHeight=i.height)},_move:function(){const t=this;t._updateBarItemsPositions(),t._hasText&&(t._text.attr({text:ft(t._actualValue,t._options.text)}),t._updateTextPosition(),t._updateLinePosition())},_updateBarItems:function(){const t=this,e=t._options;let n;const i=t._translator;t._setBarSides(),t._startPosition=i.translate(i.getDomainStart()),t._endPosition=i.translate(i.getDomainEnd()),t._basePosition=i.translate(e.baseValue),t._space=t._getSpace();const a=e.backgroundColor||"none";"none"!==a&&t._space>0?n=e.containerBackgroundColor||"none":(t._space=0,n="none"),t._backItem1.attr({fill:a}),t._backItem2.attr({fill:a}),t._spaceItem1.attr({fill:n}),t._spaceItem2.attr({fill:n})},_getSpace:function(){return 0},_updateTextItems:function(){const t=this;t._hasText?(t._line=t._line||t._renderer.path([],"line").attr({class:"dxg-main-bar","stroke-linecap":"square"}).append(t._rootElement),t._text=t._text||t._renderer.text("",0,0).attr({class:"dxg-text"}).append(t._rootElement),t._text.attr({align:t._getTextAlign()}).css(t._getFontOptions()),t._setTextItemsSides()):(t._line&&(t._line.remove(),delete t._line),t._text&&(t._text.remove(),delete t._text))},_isTextVisible:function(){return!1},_getTextAlign:function(){return"center"},_getFontOptions:function(){const t=this._options;let e=t.text.font;return e&&e.color||(e=(0,r.l)({},e,{color:t.color})),(0,l.FI)(e)},_updateBarItemsPositions:function(){const t=this._getPositions();this._backItem1.attr(this._buildItemSettings(t.start,t.back1)),this._backItem2.attr(this._buildItemSettings(t.back2,t.end)),this._spaceItem1.attr(this._buildItemSettings(t.back1,t.main1)),this._spaceItem2.attr(this._buildItemSettings(t.main2,t.back2)),this._mainItem.attr(this._buildItemSettings(t.main1,t.main2)),this._trackerElement&&this._trackerElement.attr(this._buildItemSettings(t.main1,t.main2))},_render:function(){const t=this;t._measureText(),t._backItem1||(t._backItem1=t._createBarItem(),t._backItem1.attr({class:"dxg-back-bar"})),t._backItem2||(t._backItem2=t._createBarItem(),t._backItem2.attr({class:"dxg-back-bar"})),t._spaceItem1||(t._spaceItem1=t._createBarItem(),t._spaceItem1.attr({class:"dxg-space-bar"})),t._spaceItem2||(t._spaceItem2=t._createBarItem(),t._spaceItem2.attr({class:"dxg-space-bar"})),t._mainItem||(t._mainItem=t._createBarItem(),t._mainItem.attr({class:"dxg-main-bar"})),t._updateBarItems(),t._updateTextItems()},_clear:function(){delete this._backItem1,delete this._backItem2,delete this._spaceItem1,delete this._spaceItem2,delete this._mainItem,delete this._hasText,delete this._line,delete this._text},getTooltipParameters:function(){const t=this._getTooltipPosition();return{x:t.x,y:t.y,value:this._currentValue,color:this._options.color,offset:0}}}),kt=Number,Tt=l.AS,Ct=l.oD;function St(t,e){return t&&t.radius-e<=0&&(t.radius=e+1),t}const Ot=bt.inherit({_move:function(){const t=this._options,e=Ct(this._actualPosition);this._rootElement.rotate(e,t.x,t.y),this._trackerElement&&this._trackerElement.rotate(e,t.x,t.y)},_isEnabled:function(){return this._options.width>0},_isVisible:function(t){return t.radius-kt(this._options.indentFromCenter)>0},_getTrackerSettings:function(){const t=this._options,e=this._getRadius(),n=this._getIndentFromCenter(),i=t.x,a=t.y-(e+n)/2;let s=t.width/2,o=(e-n)/2;return s>10||(s=10),o>10||(o=10),{points:[i-s,a-o,i-s,a+o,i+s,a+o,i+s,a-o]}},_render:function(){this._renderPointer()},_clearPointer:function(){delete this._element},_clear:function(){this._clearPointer()},_getIndentFromCenter:function(t){return Number(this._options.indentFromCenter)||0},_getRadius:function(){return 0},measure:function(t){const e={max:t.radius};return this._options.indentFromCenter<0&&(e.inverseHorizontalOffset=e.inverseVerticalOffset=-kt(this._options.indentFromCenter)),e},getTooltipParameters:function(){const t=this._options,e=Tt(this._actualPosition),n=(this._getRadius()+this._getIndentFromCenter())/2;return{x:t.x+e.cos*n,y:t.y-e.sin*n,value:this._currentValue,color:t.color,offset:t.width/2}}}),Vt=Ot.inherit({_isVisible:function(t){const e=this._adjustOffset(Number(this._options.indentFromCenter),t.radius),n=this._adjustOffset(Number(this._options.offset),t.radius);return t.radius-e-n>0},getOffset:function(){return 0},_adjustOffset:function(t,e){const n=e/Number(this._options.beginAdaptingAtRadius);return n<1&&(t=Math.floor(t*n)),t||0},_getIndentFromCenter:function(t){return this._adjustOffset(Number(this._options.indentFromCenter),this._options.radius)},_getRadius:function(){const t=this._options;return t.radius-this._adjustOffset(Number(t.offset),t.radius)},_renderSpindle:function(){const t=this,e=t._options,n=e.radius,i=2*this._adjustOffset(kt(e.spindleSize)/2,n);let a=2*this._adjustOffset(kt(e.spindleGapSize)/2,n)||0;a>0&&(a=a<=i?a:i),i>0&&(t._spindleOuter=t._spindleOuter||t._renderer.circle().append(t._rootElement),t._spindleInner=t._spindleInner||t._renderer.circle().append(t._rootElement),t._spindleOuter.attr({class:"dxg-spindle-border",cx:e.x,cy:e.y,r:i/2}),t._spindleInner.attr({class:"dxg-spindle-hole",cx:e.x,cy:e.y,r:a/2,fill:e.containerBackgroundColor}))},_render:function(){this.callBase(),this._renderSpindle()},_clear:function(){this.callBase(),delete this._spindleOuter,delete this._spindleInner}}),At=Vt.inherit({_renderPointer:function(){const t=this._options,e=t.y-this._getRadius(),n=t.y-this._getIndentFromCenter(),i=t.x-t.width/2,a=i+kt(t.width);this._element=this._element||this._renderer.path([],"area").append(this._rootElement),this._element.attr({points:[i,n,i,e,a,e,a,n]})}}),Et=Vt.inherit({_renderPointer:function(){const t=this._options,e=t.y-this._getRadius(),n=t.y-this._getIndentFromCenter(),i=t.x-t.width/2,a=t.x+t.width/2;this._element=this._element||this._renderer.path([],"area").append(this._rootElement),this._element.attr({points:[i,n,t.x,e,a,n]})}}),Mt=Vt.inherit({_renderPointer:function(){const t=this._options,e=t.x-t.width/2,n=t.x+t.width/2,i=t.y-this._getRadius(),a=t.y-this._getIndentFromCenter(),s=kt(t.secondFraction)||0;let o,r;s>=1?o=r=a:s<=0?o=r=i:(r=i+(a-i)*s,o=r+kt(t.space)),this._firstElement=this._firstElement||this._renderer.path([],"area").append(this._rootElement),this._spaceElement=this._spaceElement||this._renderer.path([],"area").append(this._rootElement),this._secondElement=this._secondElement||this._renderer.path([],"area").append(this._rootElement),this._firstElement.attr({points:[e,a,e,o,n,o,n,a]}),this._spaceElement.attr({points:[e,o,e,r,n,r,n,o],class:"dxg-hole",fill:t.containerBackgroundColor}),this._secondElement.attr({points:[e,r,e,i,n,i,n,r],class:"dxg-part",fill:t.secondColor})},_clearPointer:function(){delete this._firstElement,delete this._secondElement,delete this._spaceElement}}),Lt=Ot.inherit({_isEnabled:function(){return this._options.length>0&&this._options.width>0},_isVisible:t=>!0,resize(t){return this.callBase(St(t,0))},_render:function(){const t=this._options,e=t.x,n=t.y-t.radius,i=t.width/2||0,a=n-kt(t.length);this._element=this._element||this._renderer.path([],"area").append(this._rootElement);const s={points:[e,n,e-i,a,e+i,a],stroke:"none","stroke-width":0,"stroke-linecap":"square"};t.space>0&&(s["stroke-width"]=Math.min(t.space,t.width/4)||0,s.stroke=s["stroke-width"]>0&&t.containerBackgroundColor||"none"),this._element.attr(s).sharp()},_clear:function(){delete this._element},_getTrackerSettings:function(){const t=this._options,e=t.x,n=t.y-t.radius-t.length/2;let i=t.width/2,a=t.length/2;return i>10||(i=10),a>10||(a=10),{points:[e-i,n-a,e-i,n+a,e+i,n+a,e+i,n-a]}},measure:function(t){return{min:t.radius,max:t.radius+kt(this._options.length)}},getTooltipParameters:function(){const t=this._options,e=Tt(this._actualPosition),n=t.radius+t.length/2,i=this.callBase();return i.x=t.x+e.cos*n,i.y=t.y-e.sin*n,i.offset=t.length/2,i}}),wt=yt.inherit({_isEnabled:function(){return!0},_isVisible:t=>!0,resize(t){return this.callBase(St(t,0))},_getTextCloudOptions:function(){const t=Tt(this._actualPosition),e=(0,l.LW)(this._actualPosition);return{x:this._options.x+t.cos*this._options.radius,y:this._options.y-t.sin*this._options.radius,type:e>270?"left-top":e>180?"top-right":e>90?"right-bottom":"bottom-left"}},measure:function(t){const e=kt(this._options.arrowLength)||0;this._measureText();const n=this._textFullHeight+e,i=this._textFullWidth+e;return{min:t.radius,max:t.radius,horizontalOffset:i,verticalOffset:n,inverseHorizontalOffset:i,inverseVerticalOffset:n}}}),Rt=It.inherit({_isEnabled:function(){return this._options.size>0},_isVisible:t=>!0,resize(t){return this.callBase(St(t,kt(this._options.size)))},_createBarItem:function(){return this._renderer.arc().attr({"stroke-linejoin":"round"}).append(this._rootElement)},_createTracker:function(){return this._renderer.arc().attr({"stroke-linejoin":"round"})},_setBarSides:function(){this._maxSide=this._options.radius,this._minSide=this._maxSide-kt(this._options.size)},_getSpace:function(){const t=this._options;return t.space>0?180*t.space/t.radius/Math.PI:0},_isTextVisible:function(){return(this._options.text||{}).indent>0},_setTextItemsSides:function(){const t=this._options,e=kt(t.text.indent);this._lineFrom=t.y-t.radius,this._lineTo=this._lineFrom-e,this._textRadius=t.radius+e},_getPositions:function(){const t=this._basePosition,e=this._actualPosition;let n,i;return t>=e?(n=t,i=e):(n=e,i=t),{start:this._startPosition,end:this._endPosition,main1:n,main2:i,back1:Math.min(n+this._space,this._startPosition),back2:Math.max(i-this._space,this._endPosition)}},_buildItemSettings:function(t,e){return{x:this._options.x,y:this._options.y,innerRadius:this._minSide,outerRadius:this._maxSide,startAngle:e,endAngle:t}},_updateTextPosition:function(){const t=Tt(this._actualPosition);let e=this._options.x+this._textRadius*t.cos,n=this._options.y-this._textRadius*t.sin;e+=t.cos*this._textWidth*.6,n-=t.sin*this._textHeight*.6,this._text.attr({x:e,y:n+this._textVerticalOffset})},_updateLinePosition:function(){const t=this._options.x;let e,n;this._basePosition>this._actualPosition?(e=t-2,n=t):this._basePosition<this._actualPosition?(e=t,n=t+2):(e=t-1,n=t+1),this._line.attr({points:[e,this._lineFrom,e,this._lineTo,n,this._lineTo,n,this._lineFrom]}).rotate(Ct(this._actualPosition),t,this._options.y).sharp()},_getTooltipPosition:function(){const t=Tt((this._basePosition+this._actualPosition)/2),e=(this._minSide+this._maxSide)/2;return{x:this._options.x+t.cos*e,y:this._options.y-t.sin*e}},measure:function(t){const e=this,n={min:t.radius-kt(e._options.size),max:t.radius};return e._measureText(),e._hasText&&(n.max+=kt(e._options.text.indent),n.horizontalOffset=e._textWidth,n.verticalOffset=e._textHeight),n}}),Bt=Number,Pt=Array.isArray,Ft=isFinite;function zt(t,e,n,i){let a;return n>t&&i<e?a=[{start:t,end:n},{start:i,end:e}]:n>=e||i<=t?a=[{start:t,end:e}]:n<=t&&i>=e?a=[]:n>t?a=[{start:t,end:n}]:i<e&&(a=[{start:i,end:e}]),a}function Dt(t,e,n,i){let a;return n<t&&i>e?a=[{start:t,end:n},{start:i,end:e}]:n<=e||i>=t?a=[{start:t,end:e}]:n>=t&&i<=e?a=[]:n<t?a=[{start:t,end:n}]:i>e&&(a=[{start:i,end:e}]),a}function Nt(t,e,n){let{startValue:i,endValue:a}=n;return a===i&&i===t&&e===t}function Gt(t,e,n){return e-t>0||Nt(t,e,n)}function Wt(t,e,n){return t-e>0||Nt(t,e,n)}const Ht=xt.inherit({_init:function(){this._root=this._renderer.g().attr({class:"dxg-range-container"}).linkOn(this._container,"range-container")},_dispose:function(){this._root.linkOff()},clean:function(){return this._root.linkRemove().clear(),this._options=this.enabled=null,this},_getRanges:function(){const t=this._options,e=this._translator,n=e.getDomain()[0],i=e.getDomain()[1],a=i-n,s=a>=0?Gt:Wt,o=a>=0?zt:Dt;let r=[],c=[],_=[{start:n,end:i}];const u=(0,l.dh)(t.backgroundColor)||"none",h=t.width||{},d=Bt(h>0?h:h.start),p=Bt(h>0?h:h.end),g=p-d;if(void 0!==t.ranges&&!Pt(t.ranges))return null;if(!(d>=0&&p>=0&&d+p>0))return null;r=(Pt(t.ranges)?t.ranges:[]).reduce(((t,n,i)=>{n=n||{};const a=e.adjust(n.startValue),o=e.adjust(n.endValue);return Ft(a)&&Ft(o)&&s(a,o,n)&&t.push({start:a,end:o,color:(0,l.dh)(n.color),classIndex:i}),t}),[]);const f=this._themeManager.createPalette(t.palette,{type:"indicatingSet",extensionMode:t.paletteExtensionMode,keepLastColorInEnd:!0,count:r.length});return(0,j.each)(r,(function(t,e){const n=f.getNextColor();e.color=(0,U.HD)(e.color)&&e.color||n||"none",e.className="dxg-range dxg-range-"+e.classIndex,delete e.classIndex})),(0,j.each)(r,(function(t,e){let n,i,a,s,r;const l=[],u=[];for(n=0,i=c.length;n<i;++n)r=c[n],s=o(r.start,r.end,e.start,e.end),(a=s[0])&&(a.color=r.color)&&(a.className=r.className)&&l.push(a),(a=s[1])&&(a.color=r.color)&&(a.className=r.className)&&l.push(a);for(l.push(e),c=l,n=0,i=_.length;n<i;++n)r=_[n],s=o(r.start,r.end,e.start,e.end),(a=s[0])&&u.push(a),(a=s[1])&&u.push(a);_=u})),(0,j.each)(_,(function(t,e){e.color=u,e.className="dxg-range dxg-background-range",c.push(e)})),(0,j.each)(c,(function(t,e){e.startWidth=(e.start-n)/a*g+d,e.endWidth=(e.end-n)/a*g+d})),c},render:function(t){const e=this;return e._options=t,e._processOptions(),e._ranges=e._getRanges(),e._ranges&&(e.enabled=!0,e._root.linkAppend()),e},resize:function(t){const e=this;return e._root.clear(),e._isVisible(t)&&(0,j.each)(e._ranges,(function(n,i){e._createRange(i,t).attr({fill:i.color,class:i.className}).append(e._root)})),e},_processOptions:null,_isVisible:null,_createRange:null,getColorForValue:function(t){let e=null;return(0,j.each)(this._ranges,(function(n,i){if(i.start<=t&&t<=i.end||i.start>=t&&t>=i.end)return e=i.color,!1})),e}}),Yt=Number,jt=Math.max,Ut=Ht.inherit({_processOptions:function(){const t=this;switch(t._inner=t._outer=0,(0,l.ps)(t._options.orientation)){case"inside":t._inner=1;break;case"center":t._inner=t._outer=.5;break;default:t._outer=1}},_isVisible:function(t){let e=this._options.width;return e=Yt(e)||jt(Yt(e.start),Yt(e.end)),t.radius-this._inner*e>0},_createRange:function(t,e){const n=(t.startWidth+t.endWidth)/2;return this._renderer.arc(e.x,e.y,e.radius-this._inner*n,e.radius+this._outer*n,this._translator.translate(t.end),this._translator.translate(t.start)).attr({"stroke-linejoin":"round"})},measure:function(t){let e=this._options.width;return e=Yt(e)||jt(Yt(e.start),Yt(e.end)),{min:t.radius-this._inner*e,max:t.radius+this._outer*e}}}),Zt=isFinite,$t=l.LW,Kt=l.AS,qt=Math.abs,Xt=Math.max,Jt=Math.min,Qt=Math.round,te=j.each,ee=Math.PI,ne=it.inherit({_rootClass:"dxg-circular-gauge",_factoryMethods:{rangeContainer:"createCircularRangeContainer",indicator:"createCircularIndicator"},_gridSpacingFactor:17,_scaleTypes:{type:"polarAxes",drawingType:"circular"},_getThemeManagerOptions(){const t=this.callBase.apply(this,arguments);return t.subTheme="_circular",t},_updateScaleTickIndent:function(t){const e=t.label.indentFromTick,n=t.tick.visible?t.tick.length:0,i=this._scale.measureLabels((0,r.l)({},this._canvas)),a=t.orientation,s=n;let o=e;e>=0?"outside"===a?o+=s:"center"===a&&(o+=s/2):(o-=Xt(i.width,i.height),"inside"===a?o-=s:"center"===a&&(o-=s/2)),t.label.indentFromAxis=o,this._scale.updateOptions(t)},_setupCodomain:function(){const t=this.option("geometry")||{};let e,n=t.startAngle,i=t.endAngle;n=Zt(n)?$t(n):225,i=Zt(i)?$t(i):-45,qt(n-i)<1?(i-=360,e={left:-1,up:-1,right:1,down:1}):(n<i&&(i-=360),e=function(t,e){const n=Kt(t),i=Kt(e),a=n.cos,s=n.sin,o=i.cos,r=i.sin;return{left:s<=0&&r>=0||s<=0&&r<=0&&a<=o||s>=0&&r>=0&&a>=o?-1:Jt(a,o,0),right:s>=0&&r<=0||s>=0&&r>=0&&a>=o||s<=0&&r<=0&&a<=o?1:Xt(a,o,0),up:a<=0&&o>=0||a<=0&&o<=0&&s>=r||a>=0&&o>=0&&s<=r?-1:-Xt(s,r,0),down:a>=0&&o<=0||a>=0&&o>=0&&s<=r||a<=0&&o<=0&&s>=r?1:-Jt(s,r,0)}}(n,i)),this._area={x:0,y:0,radius:100,startCoord:n,endCoord:i,sides:e},this._translator.setCodomain(n,i)},_getCenter:function(){return this._getElementLayout()},_shiftScale:function(t){const e=this._scale,n=e.getCanvas();n.width=n.height=2*t.radius,e.draw(n);const i=e.getCenter();e.shift({right:t.x-i.x,bottom:t.y-i.y})},_getScaleLayoutValue:function(){return this._area.radius},_getTicksOrientation:function(t){return t.orientation},_getTicksCoefficients:function(t){const e={inner:0,outer:1};return"inside"===t.orientation?(e.inner=1,e.outer=0):"center"===t.orientation&&(e.inner=e.outer=.5),e},_correctScaleIndents:function(t,e,n){e>=0?(t.horizontalOffset=e+n.width,t.verticalOffset=e+n.height):(t.horizontalOffset=t.verticalOffset=0,t.min-=-e+Xt(n.width,n.height)),t.inverseHorizontalOffset=n.width/2,t.inverseVerticalOffset=n.height/2},_measureMainElements:function(t,e){const n=this._area.radius;let i=0,a=1/0,s=0,o=0,r=0,l=0;const c=this._scale;return te(t.concat(c),(function(t,c){const _=c.measure?c.measure({radius:n-c.getOffset()}):e;_.min>0&&(a=Jt(a,_.min)),_.max>0&&(i=Xt(i,_.max)),_.horizontalOffset>0&&(s=Xt(s,_.max+_.horizontalOffset)),_.verticalOffset>0&&(o=Xt(o,_.max+_.verticalOffset)),_.inverseHorizontalOffset>0&&(r=Xt(r,_.inverseHorizontalOffset)),_.inverseVerticalOffset>0&&(l=Xt(l,_.inverseVerticalOffset))})),s=Xt(s-i,0),o=Xt(o-i,0),{minRadius:a,maxRadius:i,horizontalMargin:s,verticalMargin:o,inverseHorizontalMargin:r,inverseVerticalMargin:l}},_applyMainLayout:function(t,e){const n=this._measureMainElements(t,e),i=this._area,a=i.sides,s={left:(a.left<-.1?n.horizontalMargin:n.inverseHorizontalMargin)||0,right:(a.right>.1?n.horizontalMargin:n.inverseHorizontalMargin)||0,top:(a.up<-.1?n.verticalMargin:n.inverseVerticalMargin)||0,bottom:(a.down>.1?n.verticalMargin:n.inverseVerticalMargin)||0},o=function(t,e,n){const i=(0,r.l)({},t);let a,s=0,o=0;return n=n||{},e>0&&(i.left+=n.left||0,i.right-=n.right||0,i.top+=n.top||0,i.bottom-=n.bottom||0,ie(i)>0&&ae(i)>0?(a=ae(i)/ie(i),a>1?e<a?s=ie(i):o=ae(i):e>a?o=ae(i):s=ie(i),s>0||(s=o/e),o>0||(o=s*e),s=(ie(i)-s)/2,o=(ae(i)-o)/2,i.left+=s,i.right-=s,i.top+=o,i.bottom-=o):(i.left=i.right=(i.left+i.right)/2,i.top=i.bottom=(i.top+i.bottom)/2)),i}(this._innerRect,(a.down-a.up)/(a.right-a.left),s);let l=Jt(ie(o)/(a.right-a.left),ae(o)/(a.down-a.up));l=l-n.maxRadius+i.radius;const c=o.left-ie(o)*a.left/(a.right-a.left),_=o.top-ae(o)*a.up/(a.down-a.up);i.x=Qt(c),i.y=Qt(_),i.radius=l,o.left-=s.left,o.right+=s.right,o.top-=s.top,o.bottom+=s.bottom,this._innerRect=o},_getElementLayout:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return{x:this._area.x,y:this._area.y,radius:Qt(this._area.radius-t)}},_getApproximateScreenRange:function(){const t=this._area;let e=Jt(this._canvas.width/(t.sides.right-t.sides.left),this._canvas.height/(t.sides.down-t.sides.up));return e>t.totalRadius&&(e=t.totalRadius),e*=.8,-this._translator.getCodomainRange()*e*ee/180},_getDefaultSize:function(){return{width:300,height:300}},_factory:(0,a.d9)(N.prototype._factory)});function ie(t){return t.right-t.left}function ae(t){return t.bottom-t.top}const se=ne.prototype._factory.indicators={};ne.prototype._factory.createIndicator=function(t){return function(e,n,i){const a=t[(0,l.ps)(n)]||!i&&t._default;return a?new a(e):null}}(se),se._default=At,se.rectangleneedle=At,se.triangleneedle=Et,se.twocolorneedle=Mt,se.trianglemarker=Lt,se.textcloud=wt,se.rangebar=Rt,ne.prototype._factory.RangeContainer=Ut,(0,i.default)("dxCircularGauge",ne),ne.addPlugin(ht.G.gauge);const oe=ne;var re=n(2318),le=n(4072);const ce=Math.PI/180,_e=Math.abs,ue=Math.round,he=Math.floor,de=Math.min,pe=Math.max,ge=W,fe=G,me=H,xe=Array.isArray,be=l.oD,ve=l.AS,ye=l.FI,Ie=Number,ke=isFinite,Te=s.noop,Ce=r.l;let Se;const Oe=N.inherit({_rootClass:"dxbg-bar-gauge",_themeSection:"barGauge",_fontFields:["label.font","legend.font","legend.title.font","legend.title.subtitle.font"],_initCore:function(){const t=this;t.callBase.apply(t,arguments),t._barsGroup=t._renderer.g().attr({class:"dxbg-bars"}).linkOn(t._renderer.root,"bars"),t._values=[],t._context={renderer:t._renderer,translator:t._translator,tracker:t._tracker,group:t._barsGroup},t._animateStep=function(e){const n=t._bars;let i,a;for(i=0,a=n.length;i<a;++i)n[i].animate(e)},t._animateComplete=function(){t._bars.forEach((t=>t.endAnimation())),t._checkOverlap()}},_disposeCore:function(){this._barsGroup.linkOff(),this._barsGroup=this._values=this._context=this._animateStep=this._animateComplete=null,this.callBase.apply(this,arguments)},_setupDomainCore:function(){let t=this.option("startValue"),e=this.option("endValue");ke(t)||(t=0),ke(e)||(e=100),this._translator.setDomain(t,e),this._baseValue=this._translator.adjust(this.option("baseValue")),ke(this._baseValue)||(this._baseValue=t<e?t:e)},_getDefaultSize:function(){return{width:300,height:300}},_setupCodomain:oe.prototype._setupCodomain,_getApproximateScreenRange:function(){const t=this._area.sides,e=this._canvas.width/(t.right-t.left),n=this._canvas.height/(t.down-t.up),i=e<n?e:n;return-this._translator.getCodomainRange()*i*ce},_setupAnimationSettings:function(){const t=this;t.callBase.apply(t,arguments),t._animationSettings&&(t._animationSettings.step=t._animateStep,t._animationSettings.complete=t._animateComplete)},_cleanContent:function(){this._barsGroup.linkRemove(),this._animationSettings&&this._barsGroup.stopAnimation(),this._barsGroup.clear()},_renderContent:function(){const t=this;let e=t.option("label");const n=t._context;if(t._barsGroup.linkAppend(),n.textEnabled=void 0===e||e&&(!("visible"in e)||e.visible),n.textEnabled){var i,a;n.fontStyles=ye(Ce({},t._themeManager.theme().label.font,null===(i=e)||void 0===i?void 0:i.font,{color:(null===(a=e)||void 0===a||null===(a=a.font)||void 0===a?void 0:a.color)||null})),e=Ce(!0,{},t._themeManager.theme().label,e),n.formatOptions={format:void 0!==e.format?e.format:t._defaultFormatOptions,customizeText:e.customizeText},n.textOptions={align:"center"},t._textIndent=e.indent>0?Ie(e.indent):0,n.lineWidth=e.connectorWidth>0?Ie(e.connectorWidth):0,n.lineColor=e.connectorColor||null;const s=t._renderer.text(ge(t._translator,n.formatOptions),0,0).attr(n.textOptions).css(n.fontStyles).append(t._barsGroup),o=s.getBBox();s.remove(),n.textY=o.y,n.textWidth=o.width,n.textHeight=o.height}oe.prototype._applyMainLayout.call(t),t._renderBars()},_measureMainElements:function(){const t={maxRadius:this._area.radius};return this._context.textEnabled&&(t.horizontalMargin=this._context.textWidth,t.verticalMargin=this._context.textHeight,t.inverseHorizontalMargin=this._context.textWidth/2,t.inverseVerticalMargin=this._context.textHeight/2),t},_renderBars:function(){const t=this,e=Ce({},t._themeManager.theme(),t.option());let n;const i=t._area,a=e.relativeInnerRadius>0&&e.relativeInnerRadius<1?Ie(e.relativeInnerRadius):.1;n=i.radius,t._context.textEnabled&&(t._textIndent=ue(de(t._textIndent,n/2)),n-=t._textIndent),t._outerRadius=he(n),t._innerRadius=he(n*a),t._barSpacing=e.barSpacing>0?Ie(e.barSpacing):0,Ce(t._context,{backgroundColor:e.backgroundColor,x:i.x,y:i.y,startAngle:i.startCoord,endAngle:i.endCoord,baseAngle:t._translator.translate(t._baseValue)}),t._arrangeBars()},_arrangeBars:function(){const t=this;let e=t._outerRadius-t._innerRadius;const n=t._context;let i;const a=t._bars.length;t._beginValueChanging(),n.barSize=a>0?pe((e-(a-1)*t._barSpacing)/a,1):0;const s=a>1?pe(de((e-a*n.barSize)/(a-1),t._barSpacing),0):0,o=de(he((e+s)/n.barSize),a);t._setBarsCount(a),e=t._outerRadius,n.textRadius=e,n.textIndent=t._textIndent,t._palette.reset();const r=n.barSize+s,l=t._palette.generateColors(o);for(i=0;i<o;++i,e-=r)t._bars[i].arrange({radius:e,color:l[i]});for(let e=o;e<a;e++)t._bars[e].hide();t._animationSettings&&!t._noAnimation?t._animateBars():t._updateBars(),t._endValueChanging()},_setBarsCount:function(){const t=this;t._bars.length>0?t._dummyBackground&&(t._dummyBackground.dispose(),t._dummyBackground=null):(t._dummyBackground||(t._dummyBackground=t._renderer.arc().attr({"stroke-linejoin":"round"})),t._dummyBackground.attr({x:t._context.x,y:t._context.y,outerRadius:t._outerRadius,innerRadius:t._innerRadius,startAngle:t._context.endAngle,endAngle:t._context.startAngle,fill:t._context.backgroundColor}).append(t._barsGroup))},_getCenter:function(){return{x:this._context.x,y:this._context.y}},_updateBars:function(){this._bars.forEach((t=>t.applyValue())),this._checkOverlap()},_checkOverlap:function(){const t=this,e=(0,l.ps)(t._getOption("resolveLabelOverlapping",!0));function n(e,n){return(0,l.l$)(e,-n,t._context)}if("none"!==e)if("shift"===e){const e=t._dividePoints();o.F.resolveLabelOverlappingInOneDirection(e.left,t._canvas,!1,!1,n),o.F.resolveLabelOverlappingInOneDirection(e.right,t._canvas,!1,!1,n),t._clearLabelsCrossTitle(),t._drawConnector()}else t._clearOverlappingLabels()},_drawConnector(){const t=this,e=t._bars,{connectorWidth:n}=t._getOption("label");e.forEach((e=>{if(!e._isLabelShifted)return;const i=e._bar.attr("x"),a=e._bar.attr("y"),s=e._bar.attr("innerRadius"),o=e._bar.attr("outerRadius"),r=e._bar.attr("startAngle"),c=e._bar.attr("endAngle"),_=Ee.apply(null,(0,l.fL)(i,a,s,o,r,c)),{cos:u,sin:h}=ve(e._angle),d=_.x-h*n/2-u,p=_.y-u*n/2+h,g=e._text.getBBox(),f=e._text._lastCoords,m=t._context.textWidth/2,x=[d,p,g.x+g.width/2+f.x,g.y+f.y];if(e._angle>90?x[2]+=m:x[2]-=m,e._angle<=180&&e._angle>0&&(x[3]+=g.height),n%2){const t=-h/2,n=-u/2;e._angle>180?(x[0]-=t,x[1]-=n):e._angle>0&&e._angle<=90&&(x[0]+=t,x[1]+=n)}const b=x.map((t=>(0,le.y6)(t,4)));e._line.attr({points:b}),e._line.rotate(0),e._isLabelShifted=!1}))},_dividePoints(){return this._bars.reduce((function(t,e){const n=(0,l.LW)(e._angle),i=n<=90||n>=270;return e._text._lastCoords={x:0,y:0},(i?t.right:t.left).push({series:{isStackedSeries:()=>!1,isFullStackedSeries:()=>!1},getLabels:()=>[{isVisible:()=>!0,getBoundingRect:()=>{const{height:t,width:n,x:i,y:a}=e._text.getBBox(),s=e._text._lastCoords;return{x:i+s.x,y:a+s.y,width:n,height:t}},shift:(t,n)=>{const i=e._text.getBBox();e._text._lastCoords={x:t-i.x,y:n-i.y},e._text.attr({translateX:t-i.x,translateY:n-i.y}),e._isLabelShifted=!0},draw:()=>e.hideLabel(),getData:()=>({value:e.getValue()}),hideInsideLabel:()=>!1}]}),t}),{left:[],right:[]})},_clearOverlappingLabels(){let t=0,e=1;const n=this._bars.concat().sort(((t,e)=>t.getValue()-e.getValue()));for(;t<n.length&&e<n.length;){const i=n[t],a=n[e];i.checkIntersect(a)?(a.hideLabel(),e++):(t=e,e=t+1)}},_clearLabelsCrossTitle(){const t=this._bars,e=this._title.getLayoutOptions()||{x:0,y:0,height:0,width:0},n=e.y+e.height;t.forEach((t=>{const e=t._text.getBBox(),i=t._text._lastCoords;n>e.y+i.y&&t.hideLabel()}))},_animateBars:function(){const t=this;let e;const n=t._bars.length;if(n>0){for(e=0;e<n;++e)t._bars[e].beginAnimation();t._barsGroup.animate({_:0},t._animationSettings)}},_buildNodes(){const t=this,e=t._options.silent();t._palette=t._themeManager.createPalette(e.palette,{useHighlight:!0,extensionMode:e.paletteExtensionMode}),t._palette.reset(),t._bars=t._bars||[],t._animationSettings&&t._barsGroup.stopAnimation();const n=t._values.filter(ke),i=n.length;if(t._bars.length>i){const e=t._bars.length;for(let n=i;n<e;++n)t._bars[n].dispose();t._bars.splice(i,e-i)}else if(t._bars.length<i)for(let e=t._bars.length;e<i;++e)t._bars.push(new Se(e,t._context));t._bars.forEach(((e,a)=>{e.update({color:t._palette.getNextColor(i),value:n[a]})}))},_updateValues:function(t){const e=this,n=xe(t)&&t||ke(t)&&[t]||[];let i;const a=n.length;let s;for(e._values.length=a,i=0;i<a;++i)s=n[i],e._values[i]=Ie(ke(s)?s:e._values[i]);e._resizing||me(e._values,e.option("values"))||e.option("values",e._values.slice()),this._change(["NODES"])},values:function(t){return void 0!==t?(this._updateValues(t),this):this._values.slice(0)},_optionChangesMap:{backgroundColor:"MOSTLY_TOTAL",relativeInnerRadius:"MOSTLY_TOTAL",barSpacing:"MOSTLY_TOTAL",label:"MOSTLY_TOTAL",resolveLabelOverlapping:"MOSTLY_TOTAL",palette:"MOSTLY_TOTAL",paletteExtensionMode:"MOSTLY_TOTAL",values:"VALUES"},_change_VALUES:function(){this._updateValues(this.option("values"))},_factory:(0,a.d9)(N.prototype._factory),_optionChangesOrder:["VALUES","NODES"],_initialChanges:["VALUES"],_change_NODES(){this._buildNodes()},_change_MOSTLY_TOTAL:function(){this._change(["NODES"]),this.callBase()},_proxyData:[],_getLegendData(){const t={},e=this._options.silent(),n=(e.label||{}).format,i=(e.legend||{}).itemTextFormat;return t.format=i||n||this._defaultFormatOptions,(this._bars||[]).map((e=>({id:e.index,item:{value:e.getValue(),color:e.getColor(),index:e.index},text:fe(e.getValue(),t),visible:!0,states:{normal:{fill:e.getColor()}}})))}});function Ve(t,e,n){t.startAngle=e<n?e:n,t.endAngle=e<n?n:e}function Ae(t,e){return _e(t-e)<1e-4}function Ee(t,e,n,i,a,s){return{x:(t+i*a).toFixed(5),y:(e-i*s).toFixed(5)}}Se=function(t,e){this._context=e,this._tracker=e.renderer.arc().attr({"stroke-linejoin":"round"}),this.index=t},Ce(Se.prototype,{dispose:function(){const t=this;return t._background.dispose(),t._bar.dispose(),t._context.textEnabled&&(t._line.dispose(),t._text.dispose()),t._context.tracker.detach(t._tracker),t._context=t._settings=t._background=t._bar=t._line=t._text=t._tracker=null,t},arrange:function(t){const e=this,n=e._context;return this._visible=!0,n.tracker.attach(e._tracker,e,{index:e.index}),e._background=n.renderer.arc().attr({"stroke-linejoin":"round",fill:n.backgroundColor}).append(n.group),e._settings=e._settings||{x:n.x,y:n.y,startAngle:n.baseAngle,endAngle:n.baseAngle},e._bar=n.renderer.arc().attr(Ce({"stroke-linejoin":"round"},e._settings)).append(n.group),n.textEnabled&&(e._line=n.renderer.path([],"line").attr({"stroke-width":n.lineWidth}).append(n.group),e._text=n.renderer.text().css(n.fontStyles).attr(n.textOptions).append(n.group)),e._angle=isFinite(e._angle)?e._angle:n.baseAngle,e._settings.outerRadius=t.radius,e._settings.innerRadius=t.radius-n.barSize,e._settings.x=n.x,e._settings.y=n.y,e._background.attr(Ce({},e._settings,{startAngle:n.endAngle,endAngle:n.startAngle,fill:e._context.backgroundColor})),e._bar.attr({x:n.x,y:n.y,outerRadius:e._settings.outerRadius,innerRadius:e._settings.innerRadius,fill:e._color}),e._tracker.attr(e._settings),n.textEnabled&&(e._line.attr({points:[n.x,n.y-e._settings.innerRadius,n.x,n.y-n.textRadius-n.textIndent],stroke:n.lineColor||e._color}).sharp(),e._text.css({fill:n.fontStyles.fill||e._color})),e},getTooltipParameters:function(){const t=ve((this._angle+this._context.baseAngle)/2);return{x:ue(this._context.x+(this._settings.outerRadius+this._settings.innerRadius)/2*t.cos),y:ue(this._context.y-(this._settings.outerRadius+this._settings.innerRadius)/2*t.sin),offset:0,color:this._color,value:this._value}},setAngle:function(t){const e=this,n=e._context,i=e._settings;let a;if(e._angle=t,Ve(i,n.baseAngle,t),e._bar.attr(i),e._tracker.attr(i),n.textEnabled){a=ve(t);const i=n.textIndent,s=n.textRadius+i;let o=n.x+s*a.cos,r=n.y-s*a.sin;const l=.5*n.textWidth,c=n.textHeight,_=n.textY;_e(o-n.x)>i&&(o+=o<n.x?-l:l),_e(r-n.y)<=i?r-=_+.5*c:r-=r<n.y?_+c:_;const u=fe(e._value,n.formatOptions,{index:e.index}),h=""===u?"hidden":null;e._text.attr({text:u,x:o,y:r,visibility:h}),e._line.attr({visibility:h}),e._line.rotate(be(t),n.x,n.y)}return e},hideLabel:function(){this._text.attr({visibility:"hidden"}),this._line.attr({visibility:"hidden"})},checkIntersect:function(t){const e=this.calculateLabelCoords(),n=t.calculateLabelCoords();return!(!e||!n)&&Math.max(0,Math.min(e.bottomRight.x,n.bottomRight.x)-Math.max(e.topLeft.x,n.topLeft.x))*Math.max(0,Math.min(e.bottomRight.y,n.bottomRight.y)-Math.max(e.topLeft.y,n.topLeft.y))!=0},calculateLabelCoords:function(){if(!this._text)return;const t=this._text.getBBox();return{topLeft:{x:t.x,y:t.y},bottomRight:{x:t.x+t.width,y:t.y+t.height}}},_processValue:function(t){return this._context.translator.translate(this._context.translator.adjust(t))},applyValue(){return this._visible?this.setAngle(this._processValue(this.getValue())):this},update(t){let{color:e,value:n}=t;this._color=e,this._value=n},hide(){this._visible=!1},getColor(){return this._color},getValue(){return this._value},beginAnimation:function(){if(!this._visible)return this;const t=this,e=this._processValue(this.getValue());Ae(t._angle,e)?(t.animate=Te,t.setAngle(t._angle)):(t._start=t._angle,t._delta=e-t._angle,t._tracker.attr({visibility:"hidden"}),t._context.textEnabled&&(t._line.attr({visibility:"hidden"}),t._text.attr({visibility:"hidden"})))},animate:function(t){if(!this._visible)return this;this._angle=this._start+this._delta*t,Ve(this._settings,this._context.baseAngle,this._angle),this._bar.attr(this._settings)},endAnimation:function(){const t=this;void 0!==t._delta?Ae(t._angle,t._start+t._delta)&&(t._tracker.attr({visibility:null}),t.setAngle(t._angle)):delete t.animate,delete t._start,delete t._delta}}),(0,i.default)("dxBarGauge",Oe),Oe.addPlugin(re.B),Oe.addPlugin(ht.G.gauge);const Me=Oe}}]);