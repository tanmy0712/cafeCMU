import{k as t}from"./key-f9cbed1b.js";import{t as e}from"./touch-4bff3f51.js";import{F as n}from"./constants-791d6f9b.js";import{d as o,r as s}from"./disposable-d2c2d283.js";import{L as r}from"./logicaltreehelper-7b19cc30.js";import"./browser-d96520d8.js";import"./common-f853e871.js";import"./layouthelper-0c7c89da.js";import"./point-e4ec110e.js";const u="data-dx-focus-hidden";function i(t){t.setAttribute(u,"")}function c(t){t.removeAttribute(u)}function l(t){return null!==t.getAttribute(u)}function d(n){let o=n;function s(t){o&&r.containsElement(o,t.target)&&i(o)}function u(t){if(!o)return;const e=t.relatedTarget;e&&!r.containsElement(o,e)&&document.hasFocus()&&c(o)}function l(e){o&&t.KeyUtils.getEventKeyCode(e)===t.KeyCode.Tab&&c(o)}const d=document.documentElement;return d.addEventListener(e.TouchUtils.touchMouseDownEventName,s),o.addEventListener("keydown",l),o.addEventListener("focusout",u),()=>{d.removeEventListener(e.TouchUtils.touchMouseDownEventName,s),null==o||o.removeEventListener("keydown",l),null==o||o.removeEventListener("focusout",u),o=null}}function m(t){if(!t)return;o(t);const e=d(t);s(t,e)}function a(t){return null!==t&&t.matches(n)}function f(t){return null!==t&&null!==t.closest(n)}const p={initFocusHidingEvents:m};export{u as FocusHiddenAttributeName,i as addFocusHiddenAttribute,d as attachEventsForFocusHiding,l as containsFocusHiddenAttribute,p as default,f as hasClosestFocusableElement,m as initFocusHidingEvents,a as isFocusableElement,c as removeFocusHiddenAttribute};
